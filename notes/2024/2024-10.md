# Composite Schemas WG - October 2024

**Watch the replay:**
[Composite Schemas Working Group Meetings on YouTube](https://www.youtube.com/playlist?list=PLP1igyLx8foFjxyTg6wPn4pUkZwuAk2GR)

## Oct 3 (Primary)

### Independent notes (@smyrick)
* Summary of past weeks (Michael)
  *   Some weeks were skipped due to GraphQLConf
  *   Picking back up the Source Schemas Chapter
  *   Key Directive needs more text and examples
  *   Non-resolvable keys is not needed in new spec from Apollo Fed, Michael will write up why
  *   GraphQL over HTTP addition is also still todo to be written up
  *   We had a lively discussion about enum mapping in new spec compared to Apollo Fed
  *   We are focusing work now on validation rules and next will be satisfiability rules
  *   Probably another couple months of work for validation
*   Shane highlights his slides from GraphQL Summit
  * Group agrees that this is a good summary and breadcrumb to update the audience on our WG and new spec
* Enum merging (Pascal)
  * Highlight the problem with two enum defintions of `enum ShippingMethod` defined differently across subgraphs, what should we do?
  * [**ASK**] Pascal asks everyone to look at the PR and comment: https://github.com/graphql/composite-schemas-spec/pull/53
  * Benjie suggests an idea of having Gateway know about enum schema and sending Strings to subgraphs
  * Shane brings up the end goal from Apollo Fed customers, they want to add new types/enums without waiting for other subgraphs
  * Stephen mentions that Netflix also uses a "central types" repo, that types like this would be defined in and all subgraph import those definitions
  * Martin proposes the question "Do we want to always aim for convergence of enums, or should we allow for differences long term". Maybe annotate eums with `@input` or `@output` explicitly could help
  * Benjie suggests adding input example to PR
  * (Stephen): Key question: Are discrepancies amongst subgraph definitions of an enum always intended to be transient? Or, should we support cases where subgraphs intentionally maintain independent enum values?
* New validation rule: No lists for `@lookup`
  * https://github.com/graphql/composite-schemas-spec/pull/54
  * Martin agress that this is a good rule to keep this strict for the first version of the spec, but in the future it could be helpful to know all the entities in a list comply to some rules or field values for advanced query planning
  * Still missing is the explanation of why this doesn't work with `@requires`
* New validation rule: `@lookup` SHOULD be nullable, but not MUST
  * https://github.com/graphql/composite-schemas-spec/pull/55
  * This would be allowed but on composition we would want to emit a WARNING
  * By returning null on entity, the system can gracefully handle missing data
  * (Benjie): In general, almost every top level field in a GraphQL schema should be nullable. The difference here is that @lookup can happen in non-root fields. So I think it warrants a comment/recommendation.
* [**ASK**] Review all open PRs and we can merge one that have not comments. So comment on a PR/validation rules if you have concerns
